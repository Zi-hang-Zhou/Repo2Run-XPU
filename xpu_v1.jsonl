{"id": "xpu_285880498", "source": {"dataset": "SWE-bench", "instance_id": "django__django-10914", "repo": "django/django"}, "context": {"lang": "python", "os": ["centos"], "python": ["3.6"], "tools": ["django"]}, "signals": {"regex": [], "keywords": ["小文件上传后权限正常，大文件（走 TemporaryUploadedFile）权限变成 0o600", "在 CentOS 7.4 + Python 3.6 上线上出现“静态服务器无法读取上传文件”", "settings 中未配置 FILE_UPLOAD_PERMISSIONS 时行为不可预测", "django"]}, "advice_nl": ["将全局默认 FILE_UPLOAD_PERMISSIONS 从 None 改为 0o644，统一所有上传文件的权限，不再依赖操作系统差异。", "涉及临时文件落盘的场景，务必显式声明目标权限，避免依赖操作系统或 tempfile 的默认安全策略。"], "atoms": [], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_338030814", "source": {"dataset": "SWE-bench", "instance_id": "django__django-11583", "repo": "django/django"}, "context": {"lang": "python", "os": ["macos"], "python": ["3.6"], "tools": ["django"]}, "signals": {"regex": ["开发服务器启动或自动重载时偶发 ValueError: embedded null byte"], "keywords": ["堆栈底部停在 pathlib 的 resolve()", "日志最后常出现 /Users 目录", "问题仅在 macOS 且存在网络挂载时出现", "复现概率低，具有明显随机性", "django"]}, "advice_nl": ["在 iter_modules_and_files() 里捕获 ValueError，记录调试日志后跳过该路径，避免 pathlib 异常向上传播导致进程退出。", "遍历文件系统时必须防御平台或网络文件系统返回的非法路径，捕获并记录异常比直接失败更能保证服务可用性。"], "atoms": [], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_4304328021", "source": {"dataset": "SWE-bench", "instance_id": "matplotlib__matplotlib-23476", "repo": "matplotlib/matplotlib"}, "context": {"lang": "python", "os": ["macos"], "tools": ["matplotlib"]}, "signals": {"regex": ["循环 30+ 次后触发 OverflowError: signed integer is greater than maximum"], "keywords": ["仅 M1 Mac 上可复现，每轮 pickle/unpickle 后 fig.dpi 翻倍", "控制台打印的 dpi 值呈 200→400→800… 指数增长"]}, "advice_nl": ["在 Figure.__getstate__ 中把 _dpi 恢复成未受像素比影响的原始值（优先用 _original_dpi，否则保持 _dpi），保证序列化状态跨平台一致；反序列化后由后端按需再次应用当前设备的像素比。", "平台相关的运行时缩放因子（DPI、像素比、字体缩放）不应进入持久化状态；序列化前必须回退到原始值，交由目标环境在加载后重新计算。"], "atoms": [], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_4869205243", "source": {"dataset": "SWE-bench", "instance_id": "matplotlib__matplotlib-24970", "repo": "matplotlib/matplotlib"}, "context": {"lang": "python", "python": ["3.10"], "tools": ["matplotlib"], "deps": {"numpy": [">=1.0"]}}, "signals": {"regex": ["运行 plt.get_cmap()(np.empty((0,), dtype=np.uint8)) 即出现三条 DeprecationWarning"], "keywords": ["警告内容均为“NumPy will stop allowing conversion of out-of-bound Pytho", "警告指向 colors.py 第 730-732 行对 xa 数组的越界赋值", "numpy", "matplotlib"]}, "advice_nl": ["把 astype(int) 提前到所有越界赋值之前完成，确保 xa 已是 int 型后再写入越界常量，从而避免对 uint8 数组直接赋大整数。", "当依赖库收紧类型安全规则时，应把“类型转换”提前到“越界写值”之前，避免对窄宽度整数数组直接写入超范围常量。"], "atoms": [{"name": "pip_pin", "args": {"name": "numpy", "spec": "<1.24"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_1199876338", "source": {"dataset": "SWE-bench", "instance_id": "psf__requests-2317", "repo": "psf/requests"}, "context": {"lang": "python", "tools": ["requests"]}, "signals": {"regex": [], "keywords": ["请求返回 404 Not Found", "日志显示 HTTP 方法为 \"b'GET'\" 字面量", "上游 neutronclient 在 Python 3 下必现失败", "requests"]}, "advice_nl": ["把 sessions.py 中的 builtin_str(method) 换成 to_native_string(method)，确保 bytes 被正确解码为 str，而非字面量。", "在 Python 2/3 兼容代码里，处理可能为 bytes 的文本时，优先用 to_native_string/ensure_str 等安全转换，避免 builtin_str/repr 造成字面量污染。"], "atoms": [{"name": "or_upgrade_pkg", "args": {"name": "requests", "min_version": "2.4.4"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_2052583608", "source": {"dataset": "SWE-bench", "instance_id": "pytest-dev__pytest-11148", "repo": "pytest-dev/pytest"}, "context": {"lang": "python", "tools": ["pytest"], "deps": {"pytest": [">=1.0"]}}, "signals": {"regex": ["报错 AttributeError: type object 'Logger' has no attribute 'store'"], "keywords": ["测试中发现同一模块在 sys.modules 与 test 局部出现两份不同对象（is 比较返回 False）", "模块级初始化副作用（如类变量赋值）在测试中“失效”", "仅当 pytest 同时启用 --import-mode=importlib 与 --doctest-modules 时出现", "pytest", "import"]}, "advice_nl": ["在 importlib 模式下优先返回已缓存的 sys.modules[module_name]，避免重复加载；同步调整测试用例预期：同一路径多次 import_path 应返回同一对象。", "任何自定义导入逻辑都应先检查 sys.modules，防止重复加载破坏全局状态；测试框架的导入模式选项需与 doctest、插件等组合做集成回归。"], "atoms": [{"name": "set_pytest_flag", "args": {"name": "--import-mode", "value": "append"}}, {"name": "or_upgrade_pkg", "args": {"name": "pytest", "min_version": "7.2.1"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_9438915336", "source": {"dataset": "SWE-bench", "instance_id": "pytest-dev__pytest-8365", "repo": "pytest-dev/pytest"}, "context": {"lang": "python", "os": ["windows"], "python": ["3.8"], "tools": ["pytest"], "deps": {"pytest": [">=1.0"]}}, "signals": {"regex": ["tmpdir_factory.mktemp() 抛出 FileNotFoundError: [WinError 3]"], "keywords": ["pytest-of-contoso\\john_doe 目录无法创建", "仅当用户名含 \\ / < > : * ? 等字符时触发", "本地 cmd 中 set LOGNAME=contoso\\john_doe 即可复现", "pytest"]}, "advice_nl": ["在 tmpdir.py 的 getbasetemp() 中对 rootdir.mkdir 做 try/except，捕获 OSError 后回退到 pytest-of-unknown 目录，保证临时路径始终合法。", "任何依赖系统用户名/环境变量拼接路径的库，都应先校验字符合法性或提供回退策略，避免平台特殊字符导致路径创建失败。"], "atoms": [], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_1829374650", "source": {"dataset": "envbench", "instance_id": "biothings__biothings.api", "repo": "biothings/biothings.api"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "biothings"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "poetry install failed"]}, "advice_nl": ["检测到 poetry.lock 文件，属于 Poetry 项目。", "内部 Docker 容器为纯净环境，未预装 Poetry。必须在运行 poetry install 之前，先执行 pip install poetry 进行工具自举。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_2938475610", "source": {"dataset": "envbench", "instance_id": "datamol-io__datamol", "repo": "datamol-io/datamol"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "datamol"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "environment hallucination"]}, "advice_nl": ["Agent 在外部环境验证 poetry install 成功，误以为内部容器也有该工具。", "在处理 poetry.lock 项目时，必须强制检查并安装构建工具：pip install poetry。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_3049586721", "source": {"dataset": "envbench", "instance_id": "fhempy__fhempy", "repo": "fhempy/fhempy"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "fhempy"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "dependency installation failure"]}, "advice_nl": ["识别到 poetry.lock，但在执行 poetry lock/install 前未安装 poetry。", "在构建流程中增加前置步骤：使用 pip_download.py 安装 poetry。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_4150697832", "source": {"dataset": "envbench", "instance_id": "materialsvirtuallab__matminer", "repo": "materialsvirtuallab/matminer"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "matminer"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "poetry"]}, "advice_nl": ["项目依赖 Poetry 管理，但 Docker 容器内缺失该工具。", "强制执行 pip install poetry 以解决 Command not found 错误。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_5261708943", "source": {"dataset": "envbench", "instance_id": "pandas-dev__pandas", "repo": "pandas-dev/pandas"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "pandas"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "complex build"]}, "advice_nl": ["Pandas 使用 poetry.lock 构建，且依赖 Cython 等编译环境。", "首先必须安装 poetry 工具 (pip install poetry)，其次可能需要安装系统级编译依赖。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_6372819054", "source": {"dataset": "envbench", "instance_id": "spacetelescope__pysiaf", "repo": "spacetelescope/pysiaf"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "pysiaf"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "external success internal failure"]}, "advice_nl": ["外部环境预装了 Poetry 导致 Agent 误判，内部纯净容器缺失工具。", "在规划阶段硬编码规则：若存在 poetry.lock，优先执行 pip install poetry。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_7483920165", "source": {"dataset": "envbench", "instance_id": "scikit-learn__scikit-learn", "repo": "scikit-learn/scikit-learn"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "scikit-learn"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "scientific stack"]}, "advice_nl": ["Scikit-learn 构建依赖 Poetry 及编译环境。", "修复首要步骤：在 Docker 容器内显式安装 Poetry (pip install poetry) 以启动依赖安装流程。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_8594031276", "source": {"dataset": "envbench", "instance_id": "xonsh__xonsh", "repo": "xonsh/xonsh"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.11"], "tools": ["poetry", "xonsh"]}, "signals": {"regex": ["poetry: command not found", "returncode: 1"], "keywords": ["poetry.lock", "missing build tool", "shell project"]}, "advice_nl": ["Xonsh 使用 poetry.lock 管理依赖，Docker 容器内未预装 Poetry。", "必须先通过 pip install poetry 安装构建工具，才能解析和安装项目依赖。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_9605142387", "source": {"dataset": "envbench", "instance_id": "ansible__ansible", "repo": "ansible/ansible"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.12"], "tools": ["ansible", "pytest"]}, "signals": {"regex": ["Exit Code 3", "Internal error"], "keywords": ["system configuration", "root permissions", "test runner crash"]}, "advice_nl": ["Ansible 测试套件对系统权限和环境配置（如非 root 用户）有严格要求，通用 pytest 收集阶段崩溃。", "建议不使用通用 runtest.py，而是通过 tox 或项目自带的测试脚本运行，并配置必要的系统级权限。"], "atoms": [], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_0716253498", "source": {"dataset": "envbench", "instance_id": "python__cpython", "repo": "python/cpython"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["cpython", "make"]}, "signals": {"regex": ["Exit Code 2", "Collection error"], "keywords": ["source code", "compilation required", "test config mismatch"]}, "advice_nl": ["目标为 Python 语言源码，不能作为标准包测试。通用 pytest 无法运行。", "必须先执行 ./configure 和 make 进行编译，然后使用生成的 ./python -m test 来运行标准库测试。"], "atoms": [], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_1827364509", "source": {"dataset": "envbench", "instance_id": "pypa__distutils", "repo": "pypa/distutils"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["distutils", "tox"]}, "signals": {"regex": ["Exit Code 2", "ModuleNotFoundError"], "keywords": ["namespace conflict", "standard library", "test runner failure"]}, "advice_nl": ["测试独立的 distutils 包时，会与 Python 标准库中的 distutils 发生命名空间冲突。", "必须使用 tox 或严格配置的 venv 隔离环境，确保测试时优先加载当前目录的代码而非系统库。"], "atoms": [], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_2930415260", "source": {"dataset": "envbench", "instance_id": "diefenbach__django-lfs", "repo": "diefenbach/django-lfs"}, "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["django"]}, "signals": {"regex": ["ImportError", "AppRegistryNotReady"], "keywords": ["dependency conflict", "version mismatch", "django 5.x"]}, "advice_nl": ["老旧 Django 项目没有在配置文件中锁定版本上限，Agent 盲目安装了最新的 Django 5.x 导致不兼容。", "需要手动指定 Django 版本约束（如 <4.0），或降级到 LTS 版本以修复不兼容问题。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "Django", "version_constraints": "<4.0"}}], "guardrails": ["do_not_modify_tests"], "evidence": {}, "status": "plausible", "telemetry": {"hits": 0, "successes": 0, "failures": 0, "last_success_ts": null, "created_ts": 1763447266}}
{"id": "xpu_2210000001", "source": {"dataset": "envbench", "instance_id": "general__poetry", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["poetry"]}, "signals": {"regex": ["poetry: command not found"], "keywords": ["poetry.lock"]}, "advice_nl": ["检测到 poetry.lock 文件，说明这是一个 Poetry 项目且容器内未预装工具。", "不要直接运行 poetry install，必须先执行 pip install poetry 进行工具自举。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "poetry"}}], "status": "plausible"}
{"id": "xpu_2210000002", "source": {"dataset": "envbench", "instance_id": "general__flit", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["flit"]}, "signals": {"regex": ["flit: command not found"], "keywords": ["poetry.lock", "flit-core"]}, "advice_nl": ["检测到构建系统为 flit-core 时，需先安装 flit 才能执行构建指令。", "优先尝试 pip install flit，然后运行 flit install --symlink。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "flit"}}], "status": "plausible"}
{"id": "xpu_2210000003", "source": {"dataset": "envbench", "instance_id": "general__pdm", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["pdm"]}, "signals": {"regex": ["pdm: command not found"], "keywords": ["poetry.lock", "pdm-backend"]}, "advice_nl": ["检测到 pdm-backend 时，环境内缺失 pdm 工具。", "执行 pip install pdm，随后使用 pdm install 安装依赖。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "pdm"}}], "status": "plausible"}
{"id": "xpu_2210000004", "source": {"dataset": "envbench", "instance_id": "scipy__build", "repo": "scipy/scipy"}, "context": {"lang": "python", "os": ["linux"], "tools": ["gcc", "gfortran"]}, "signals": {"regex": ["Run-time dependency blas found: NO", "gfortran: command not found"], "keywords": ["scientific computing", "blas", "lapack", "compilation failed"]}, "advice_nl": ["构建 Scipy/Numpy 等科学计算库时，必须预装 Fortran 编译器和线性代数库。", "在 pip install 之前，先运行 apt-get install -y gfortran libopenblas-dev liblapack-dev。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "gfortran libopenblas-dev liblapack-dev"}}], "status": "plausible"}
{"id": "xpu_2210000005", "source": {"dataset": "envbench", "instance_id": "pandas__build", "repo": "pandas-dev/pandas"}, "context": {"lang": "python", "os": ["linux"], "tools": ["gcc"]}, "signals": {"regex": ["error: command 'gcc' failed", "Python.h: No such file or directory"], "keywords": ["cython", "extension module", "compilation error"]}, "advice_nl": ["Pandas 包含大量 Cython 扩展，构建需要 C 编译器和 Python 开发头文件。", "确保环境安装了 build-essential 和 python3-dev (或 python3.x-dev)。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "build-essential python3-dev"}}], "status": "plausible"}
{"id": "xpu_2210000006", "source": {"dataset": "envbench", "instance_id": "microsoft__torchgeo", "repo": "microsoft/torchgeo"}, "context": {"lang": "python", "os": ["linux"], "tools": ["gdal"]}, "signals": {"regex": ["gdal-config: command not found", "fatal error: gdal.h"], "keywords": ["geospatial", "gdal", "rasterio"]}, "advice_nl": ["处理 TorchGeo 等地理空间库时，Python 库 rasterio/fiona 强烈依赖系统级 GDAL 库。", "必须先安装系统依赖：apt-get install -y libgdal-dev gdal-bin，并设置 CPLUS_INCLUDE_PATH。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "libgdal-dev gdal-bin"}}], "status": "plausible"}
{"id": "xpu_2210000007", "source": {"dataset": "envbench", "instance_id": "fonttools__fontbakery", "repo": "fonttools/fontbakery"}, "context": {"lang": "python", "os": ["linux"], "tools": ["cairo"]}, "signals": {"regex": ["cairo.h: No such file or directory", "Package 'cairo', required by 'virtual:world', not found"], "keywords": ["font processing", "graphics", "libcairo"]}, "advice_nl": ["FontBakery 及其依赖（如 PyCairo）需要底层的图形处理库。", "在安装依赖前，先执行 apt-get install -y libcairo2-dev pkg-config。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "libcairo2-dev pkg-config"}}], "status": "plausible"}
{"id": "xpu_2210000008", "source": {"dataset": "envbench", "instance_id": "benexl__fastanime", "repo": "Benexl/FastAnime"}, "context": {"lang": "python", "os": ["linux"], "tools": ["ffmpeg"]}, "signals": {"regex": ["FileNotFoundError: [Errno 2] No such file or directory: 'ffmpeg'"], "keywords": ["video processing", "audio", "multimedia"]}, "advice_nl": ["多媒体处理库（如 FastAnime）通常在运行时调用 ffmpeg 二进制文件。", "即使 Python 包安装成功，也必须安装系统工具：apt-get install -y ffmpeg。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "ffmpeg"}}], "status": "plausible"}
{"id": "xpu_2210000009", "source": {"dataset": "envbench", "instance_id": "general__opencv", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["opencv"]}, "signals": {"regex": ["ImportError: libGL.so.1: cannot open shared object file"], "keywords": ["opencv-python", "computer vision", "headless"]}, "advice_nl": ["安装 opencv-python 后常出现 libGL 缺失错误，因为 Docker 容器通常是最小化安装。", "必须安装 apt-get install -y libgl1-mesa-glx 或 libgl1。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "libgl1"}}], "status": "plausible"}
{"id": "xpu_2210000010", "source": {"dataset": "envbench", "instance_id": "diefenbach__django_legacy", "repo": "diefenbach/django-lfs"}, "context": {"lang": "python", "tools": ["django"]}, "signals": {"regex": ["ImportError: cannot import name 'ugettext'", "RemovedInDjango40Warning"], "keywords": ["legacy project", "django 5.x", "version mismatch"]}, "advice_nl": ["老旧 Django 项目（数年前更新）通常无法在 Django 4.0+ 上运行（API移除）。", "不要安装最新版 Django，尝试锁定版本：pip install 'Django<4.0'。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "Django", "version_constraints": "<4.0"}}], "status": "plausible"}
{"id": "xpu_2210000011", "source": {"dataset": "envbench", "instance_id": "ansible__permissions", "repo": "ansible/ansible"}, "context": {"lang": "python", "os": ["linux"], "tools": ["pytest"]}, "signals": {"regex": ["Permission denied", "Exit Code 3", "internal error"], "keywords": ["root user", "security check", "test runner"]}, "advice_nl": ["Ansible 的测试套件会检查文件权限，Docker 默认 root 用户可能导致某些安全测试失败或跳过。", "尝试创建非 root 用户运行测试，或查找是否可以通过环境变量（如 ANSIBLE_become_pass）绕过。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000012", "source": {"dataset": "envbench", "instance_id": "general__rust_deps", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["rust", "cargo"]}, "signals": {"regex": ["error: can't find Rust compiler", "Cargo not found"], "keywords": ["cryptography", "pydantic", "tokenizers", "rust"]}, "advice_nl": ["安装 Cryptography, Pydantic, Tokenizers 等现代库的旧版本或源码构建时，需要 Rust 编译器。", "执行 apt-get install -y cargo rustc 解决编译环境问题。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "cargo rustc"}}], "status": "plausible"}
{"id": "xpu_2210000013", "source": {"dataset": "envbench", "instance_id": "general__lxml", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["xml"]}, "signals": {"regex": ["xslt-config: command not found", "fatal error: libxml/xmlversion.h"], "keywords": ["lxml", "xml parsing", "scrapy"]}, "advice_nl": ["构建 lxml 库时，需要系统的 XML 和 XSLT 开发库。", "在 pip install 之前，先执行 apt-get install -y libxml2-dev libxslt1-dev。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "libxml2-dev libxslt1-dev"}}], "status": "plausible"}
{"id": "xpu_2210000014", "source": {"dataset": "envbench", "instance_id": "general__pillow", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["pillow"]}, "signals": {"regex": ["zlib is required", "jpeg is required"], "keywords": ["image processing", "pillow", "dependencies"]}, "advice_nl": ["从源码构建 Pillow 时，需要外部图像库支持。", "确保安装：apt-get install -y libjpeg-dev zlib1g-dev libpng-dev。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "libjpeg-dev zlib1g-dev"}}], "status": "plausible"}
{"id": "xpu_2210000015", "source": {"dataset": "envbench", "instance_id": "general__python_311", "repo": "general"}, "context": {"lang": "python", "python": ["3.11"]}, "signals": {"regex": ["AttributeError: module 'inspect' has no attribute 'getargspec'", "Removed in Python 3.11"], "keywords": ["deprecation", "python 3.11", "legacy code"]}, "advice_nl": ["Python 3.11 移除了许多旧 API（如 inspect.getargspec）。如果项目较旧且报错此类 AttributeError。", "尝试将 Python 版本降级到 3.9 或 3.10。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000016", "source": {"dataset": "envbench", "instance_id": "general__python_36", "repo": "general"}, "context": {"lang": "python", "python": ["3.6"]}, "signals": {"regex": ["SyntaxError: f-string: unmatched", "ModuleNotFoundError: No module named 'dataclasses'"], "keywords": ["syntax error", "f-string", "modern syntax"]}, "advice_nl": ["代码中使用了 f-string 或 dataclasses，但当前环境为 Python 3.6 或更低。", "项目使用了较新的语法特性，请将 Python 版本升级到至少 3.7 或 3.8。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000017", "source": {"dataset": "envbench", "instance_id": "keras__timeout", "repo": "keras-team/keras"}, "context": {"lang": "python", "tools": ["pip"]}, "signals": {"regex": ["ReadTimeoutError", "Operation timed out"], "keywords": ["large dependencies", "tensorflow", "torch", "timeout"]}, "advice_nl": ["对于像 Keras 这样支持多后端的库，不要尝试一次性安装所有可选依赖（TF+Torch+JAX）。", "仅安装最核心的后端（如 pip install tensorflow）以避免下载超时和版本冲突。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000018", "source": {"dataset": "envbench", "instance_id": "general__tox", "repo": "general"}, "context": {"lang": "python", "tools": ["tox"]}, "signals": {"regex": ["tox: command not found", "ini file not found"], "keywords": ["test runner", "tox.ini"]}, "advice_nl": ["如果仓库根目录存在 tox.ini，说明项目被设计为使用 tox 运行测试。", "安装 pip install tox 并直接运行 tox -e py310（匹配当前环境），通常比手动运行 pytest 更稳健。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "tox"}}], "status": "plausible"}
{"id": "xpu_2210000019", "source": {"dataset": "envbench", "instance_id": "general__makefile", "repo": "general"}, "context": {"lang": "python", "tools": ["make"]}, "signals": {"regex": ["No rule to make target 'test'", "pytest: command not found"], "keywords": ["makefile", "custom build"]}, "advice_nl": ["如果仓库包含 Makefile，检查是否有 'test' 或 'install' 目标。", "使用 make install 和 make test 往往能自动处理复杂的环境配置，优于手动 pip。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000020", "source": {"dataset": "envbench", "instance_id": "general__setup_py_test", "repo": "general"}, "context": {"lang": "python", "tools": ["setuptools"]}, "signals": {"regex": ["error: python setup.py test is deprecated"], "keywords": ["setup.py", "legacy testing"]}, "advice_nl": ["尝试运行 python setup.py test 可能会报错（已废弃）。", "改用 pip install .[test] 安装测试依赖，然后直接运行 pytest。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000021", "source": {"dataset": "envbench", "instance_id": "pypa__distutils_conflict", "repo": "pypa/distutils"}, "context": {"lang": "python", "tools": ["distutils"]}, "signals": {"regex": ["ImportError", "AttributeError"], "keywords": ["namespace conflict", "standard library"]}, "advice_nl": ["测试标准库的独立 fork（如 distutils）时，必须确保 sys.path 优先加载当前目录。", "建议在 pytest 调用前设置 PYTHONPATH=. 或使用 tox 的隔离环境功能。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000022", "source": {"dataset": "envbench", "instance_id": "scipy__precision", "repo": "scipy/scipy"}, "context": {"lang": "python", "tools": ["pytest"]}, "signals": {"regex": ["AssertionError", "mismatch"], "keywords": ["numerical precision", "floating point", "scientific"]}, "advice_nl": ["科学计算库在不同架构下可能出现微小的浮点误差导致测试失败。", "可以在运行 pytest 时添加容差参数（如果支持）或忽略特定的精度相关测试。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000023", "source": {"dataset": "envbench", "instance_id": "general__pipreqs_fail", "repo": "general"}, "context": {"lang": "python", "tools": ["pipreqs"]}, "signals": {"regex": ["UnicodeDecodeError", "SyntaxError"], "keywords": ["pipreqs", "encoding", "parsing"]}, "advice_nl": ["使用 pipreqs 自动生成依赖时，常因源码编码问题失败。", "如果 pipreqs 失败，尝试回退到手动解析 setup.py/poetry.lock 或只安装最基础的 pytest 尝试运行。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000024", "source": {"dataset": "envbench", "instance_id": "general__db_deps", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["mysql", "postgres"]}, "signals": {"regex": ["mysql_config not found", "pg_config executable not found"], "keywords": ["database", "mysqlclient", "psycopg2"]}, "advice_nl": ["安装数据库驱动（mysqlclient, psycopg2）需要系统头文件。", "安装依赖前执行 apt-get install -y default-libmysqlclient-dev libpq-dev。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "default-libmysqlclient-dev libpq-dev"}}], "status": "plausible"}
{"id": "xpu_2210000025", "source": {"dataset": "envbench", "instance_id": "python__cpython_build", "repo": "python/cpython"}, "context": {"lang": "python", "tools": ["make"]}, "signals": {"regex": ["configure: error: no acceptable C compiler found"], "keywords": ["source build", "compiler"]}, "advice_nl": ["构建 CPython 源码时，必须先配置编译环境。", "顺序执行：./configure --with-pydebug && make -j，然后使用 ./python 而非系统 python 运行测试。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000026", "source": {"dataset": "envbench", "instance_id": "general__git_submodules", "repo": "general"}, "context": {"lang": "python", "tools": ["git"]}, "signals": {"regex": ["FileNotFoundError", "No such file or directory"], "keywords": ["submodules", "empty directory", "third_party"]}, "advice_nl": ["项目依赖可能存在于 git 子模块中（常在 third_party 目录）。", "Clone 仓库后，务必检查并运行 git submodule update --init --recursive。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000027", "source": {"dataset": "envbench", "instance_id": "general__protobuf", "repo": "keras-team/keras"}, "context": {"lang": "python", "tools": ["protobuf"]}, "signals": {"regex": ["TypeError: Descriptors cannot not be created directly"], "keywords": ["protobuf", "version conflict", "tensorflow"]}, "advice_nl": ["Protobuf 4.x/5.x 与许多旧版 TensorFlow/ONNX 工具不兼容。", "遇到 Protobuf 描述符错误时，尝试降级：pip install 'protobuf<4'。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "protobuf", "version_constraints": "<4"}}], "status": "plausible"}
{"id": "xpu_2210000028", "source": {"dataset": "envbench", "instance_id": "general__numpy_compat", "repo": "general"}, "context": {"lang": "python", "tools": ["numpy"]}, "signals": {"regex": ["AttributeError: module 'numpy' has no attribute 'float'"], "keywords": ["numpy 1.20", "numpy 1.24", "deprecation"]}, "advice_nl": ["Numpy 1.20+ 移除了 np.float/np.int 等别名，导致旧代码报错。", "遇到此类 AttributeError，请将 Numpy 降级到 1.19.x 或手动修复代码中的类型别名。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "numpy", "version_constraints": "<1.20"}}], "status": "plausible"}
{"id": "xpu_2210000029", "source": {"dataset": "envbench", "instance_id": "general__setuptools_rust", "repo": "general"}, "context": {"lang": "python", "tools": ["setuptools-rust"]}, "signals": {"regex": ["error: 'setuptools_rust' is not installed"], "keywords": ["setup_requires", "build dependencies"]}, "advice_nl": ["setup.py 依赖 setuptools-rust 但未自动安装。", "在安装主包之前，手动执行 pip install setuptools-rust。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "setuptools-rust"}}], "status": "plausible"}
{"id": "xpu_2210000030", "source": {"dataset": "envbench", "instance_id": "general__cython_version", "repo": "general"}, "context": {"lang": "python", "tools": ["cython"]}, "signals": {"regex": ["Cython.Compiler.Errors.CompileError"], "keywords": ["cython 3.0", "build failure"]}, "advice_nl": ["Cython 3.0 引入了破坏性变更，可能导致旧项目构建失败。", "如果构建报错，尝试降级 Cython：pip install 'Cython<3'。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "Cython", "version_constraints": "<3"}}], "status": "plausible"}
{"id": "xpu_2210000031", "source": {"dataset": "envbench", "instance_id": "biothings__ignored_test", "repo": "biothings/biothings.api"}, "context": {"lang": "python", "tools": ["pytest"]}, "signals": {"regex": ["collected 0 items"], "keywords": ["test discovery", "norecursedirs"]}, "advice_nl": ["Pytest 收集到 0 个测试，可能是 pytest.ini 配置排除了测试目录。", "尝试显式指定测试目录运行：pytest tests/，或检查配置文件中的 norecursedirs 设置。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000032", "source": {"dataset": "envbench", "instance_id": "general__test_deps", "repo": "general"}, "context": {"lang": "python", "tools": ["pytest"]}, "signals": {"regex": ["ModuleNotFoundError: No module named 'pytest_cov'"], "keywords": ["test dependencies", "plugins"]}, "advice_nl": ["运行测试时常缺失 setup.py 中未列出的测试专用依赖。", "检查是否有 test-requirements.txt 或 requirements-dev.txt 并安装。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000033", "source": {"dataset": "envbench", "instance_id": "general__locale", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["locale"]}, "signals": {"regex": ["UnicodeEncodeError: 'ascii' codec can't encode"], "keywords": ["encoding", "utf-8", "locale"]}, "advice_nl": ["Docker 容器默认 locale 可能为 POSIX，导致编码错误。", "设置环境变量：export LANG=C.UTF-8 和 export LC_ALL=C.UTF-8。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000034", "source": {"dataset": "envbench", "instance_id": "general__import_mode", "repo": "pytest-dev/pytest"}, "context": {"lang": "python", "tools": ["pytest"]}, "signals": {"regex": ["ImportError", "ModuleNotFoundError"], "keywords": ["import mode", "prepend", "append"]}, "advice_nl": ["在测试源码布局复杂的项目时，import 路径可能解析错误。", "尝试使用 pytest --import-mode=importlib 来改善模块加载兼容性。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000035", "source": {"dataset": "envbench", "instance_id": "general__distutils_deprecation", "repo": "general"}, "context": {"lang": "python", "python": ["3.12"], "tools": ["distutils"]}, "signals": {"regex": ["ModuleNotFoundError: No module named 'distutils'"], "keywords": ["python 3.12", "setuptools"]}, "advice_nl": ["Python 3.12 移除了 distutils。", "如果是旧代码依赖 distutils，尝试安装 setuptools（它包含 distutils 的垫片）或降级 Python 到 3.11。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "setuptools"}}], "status": "plausible"}
{"id": "xpu_2210000036", "source": {"dataset": "envbench", "instance_id": "general__wheel_build", "repo": "general"}, "context": {"lang": "python", "tools": ["pip"]}, "signals": {"regex": ["Failed to build wheel for", "Could not build wheels"], "keywords": ["bdist_wheel", "legacy setup"]}, "advice_nl": ["Pip 尝试构建 Wheel 失败时，可能是环境缺少 wheel 包。", "确保安装：pip install wheel，然后再次尝试安装。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "wheel"}}], "status": "plausible"}
{"id": "xpu_2210000037", "source": {"dataset": "envbench", "instance_id": "general__openssl", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["openssl"]}, "signals": {"regex": ["opensslv.h: No such file or directory"], "keywords": ["cryptography", "ssl"]}, "advice_nl": ["构建依赖 OpenSSL 的库（如 cryptography）时，需要 SSL 开发头文件。", "执行 apt-get install -y libssl-dev。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "libssl-dev"}}], "status": "plausible"}
{"id": "xpu_2210000038", "source": {"dataset": "envbench", "instance_id": "general__ffi", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["libffi"]}, "signals": {"regex": ["ffi.h: No such file or directory"], "keywords": ["cffi", "ctypes"]}, "advice_nl": ["构建 cffi 扩展模块时，需要 libffi 开发库。", "执行 apt-get install -y libffi-dev。"], "atoms": [{"name": "apt_download.py", "args": {"package_name": "libffi-dev"}}], "status": "plausible"}
{"id": "xpu_2210000039", "source": {"dataset": "envbench", "instance_id": "general__env_chain", "repo": "general"}, "context": {"lang": "python", "os": ["linux"], "tools": ["bash"]}, "signals": {"regex": ["ModuleNotFoundError", "ImportError"], "keywords": ["PYTHONPATH", "export", "not found"]}, "advice_nl": ["注意：Docker Shell 会话不持久，单独执行 'export' 命令对后续步骤无效！", "必须将环境变量与命令链式执行，例如：'export PYTHONPATH=$PYTHONPATH:/repo && python runtest.py'。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000040", "source": {"dataset": "envbench", "instance_id": "general__tox_env", "repo": "general"}, "context": {"lang": "python", "tools": ["tox"]}, "signals": {"regex": ["tox", "ModuleNotFoundError"], "keywords": ["tox"]}, "advice_nl": ["【Tox 专用提示】Tox 会忽略外部 export 的环境变量。", "严禁使用 'export PYTHONPATH' 来修复 Tox 里的错误！请直接通过 args 传参：'tox -e py -- --recreate'，或修改 tox.ini 的 passenv。"], "atoms": [], "status": "plausible"}
{"id": "xpu_2210000041", "source": {"dataset": "envbench", "instance_id": "general__django_legacy", "repo": "general"}, "context": {"lang": "python", "tools": ["django"]}, "signals": {"regex": ["ImportError", "AppRegistryNotReady", "RemovedInDjango"], "keywords": ["django", "django-lfs"]}, "advice_nl": ["老旧 Django 项目（如 django-lfs）通常不兼容 Django 4.x/5.x。如果遇到 ImportError，请务必降级 Django。", "建议尝试安装长期支持版本：pip install 'Django<3.2' 或 'Django<4.0'。"], "atoms": [{"name": "pip_download.py", "args": {"package_name": "Django", "version_constraints": "<4.0"}}], "status": "plausible"}
{"id": "xpu_2210000042", "source": {"dataset": "envbench", "instance_id": "ansible__ansible", "repo": "ansible/ansible"}, "context": {"lang": "python", "tools": ["ansible"]}, "signals": {"regex": ["Poetry configuration is invalid"], "keywords": ["ansible", "pyproject.toml"]}, "advice_nl": ["Ansible 的 pyproject.toml 是基于 setuptools 的，不支持 Poetry。", "严禁使用 poetry install。请直接运行 'pip install -e .' 安装开发环境。"], "atoms": [], "status": "plausible"}