{"id": "xpu_env_py_mirascope", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["ModuleNotFoundError: No module named 'wandb'", "ModuleNotFoundError: No module named 'weave'"], "keywords": ["ModuleNotFoundError", "ImportError", "poetry install --extras"]}, "advice_nl": ["确保所有需要的模块都已安装，特别是使用 `poetry install --extras` 安装额外的依赖。", "检查 `pyproject.toml` 文件中的 extras 部分，确保所有测试所需的模块都在其中列出。", "在安装依赖后，使用 `poetryruntest` 进行测试，确保环境配置正确。", "如果某些模块未找到，可能需要手动添加到 `pyproject.toml` 中的依赖列表。", "考虑使用 `poetry add` 命令逐个添加缺失的模块，并进行测试以验证安装是否成功。"], "atoms": [{"name": "poetry_install_extras", "args": {"extras": ["wandb", "weave", "langfuse"]}}, {"name": "poetry_run_test", "args": {}}]}
{"id": "xpu_env_py_modalities", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "poetry"]}, "signals": {"regex": ["ModuleNotFoundError: No module named 'modalities'"], "keywords": ["ModuleNotFoundError", "No module named", "runtest", "PYTHONPATH"]}, "advice_nl": ["检查 PYTHONPATH 是否正确设置，确保包含项目的 src 目录。", "确认所有依赖包已正确安装，特别是自定义模块。", "使用 poetry 或 pip 确保安装的包版本与项目需求匹配。", "在运行测试前，确保所有环境变量已正确配置。", "检查项目目录结构，确保模块路径与导入路径一致。"], "atoms": [{"name": "set_env", "args": {"PYTHONPATH": "/repo/src"}}, {"name": "pip_install", "args": {"package": "torch", "version": "2.0.0"}}, {"name": "pip_install", "args": {"package": "causal-conv1d", "version": ">=1.2.0"}}]}
{"id": "xpu_env_py_flake8_no_implicit_concat", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest"]}, "signals": {"regex": ["ERROR: Could not find a version that satisfies the requirement flake8-no-implicit-concat"], "keywords": ["No matching distribution found", "flake8-no-implicit-concat"]}, "advice_nl": ["检查库的版本号是否正确，确保在 PyPI 上有对应的版本。", "尝试使用其他版本的 flake8-no-implicit-concat 或寻找替代库。", "确认 Python 版本与库的兼容性，可能需要切换 Python 版本。", "检查网络连接问题，确保能够访问 PyPI。", "考虑使用其他包管理工具，如 conda，来解决依赖问题。"], "atoms": [{"name": "pip_install", "args": {"package": "flake8-no-implicit-concat", "version": "0.3.3"}}]}
{"id": "xpu_env_py_django_path_issue", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pytest-django", "pip"]}, "signals": {"regex": ["ImportError: No module named 'tests'", "pytest-django could not find a Django project"], "keywords": ["ImportError", "pytest-django", "No module named 'tests'", "Django project"]}, "advice_nl": ["确保 Django 项目路径已正确添加到 PYTHONPATH。", "检查项目根目录是否包含 manage.py 文件。", "在 pyproject.toml 中设置 django_find_project 为 true。", "使用 export 命令将项目路径添加到环境变量 PYTHONPATH。", "确认 pytest-django 插件已正确安装并配置。"], "atoms": [{"name": "set_env", "args": {"PYTHONPATH": "/repo/src:$PYTHONPATH"}}, {"name": "modify_file", "args": {"file": "/repo/pyproject.toml", "operation": "replace", "pattern": "django_find_project = false", "replacement": "django_find_project = true"}}]}
{"id": "xpu_env_py_apiflask", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "pipreqs"]}, "signals": {"regex": ["ModuleNotFoundError: No module named 'apiflask'"], "keywords": ["ModuleNotFoundError", "apiflask", "runtest"]}, "advice_nl": ["检查是否在 requirements 文件中遗漏了 apiflask 依赖。", "确保在安装依赖时使用了正确的 Python 版本。", "使用 pipreqs 工具生成 requirements 文件时，确保项目路径正确。", "在安装依赖后，使用 pip list 确认 apiflask 是否已安装。", "如果依赖安装无误但仍报错，检查 PYTHONPATH 环境变量是否正确设置。"], "atoms": [{"name": "pip_install", "args": {"package": "apiflask", "version": "3.0.2"}}, {"name": "pipreqs_generate", "args": {"path": "/repo", "force": true}}]}
{"id": "xpu_env_py_file_not_found", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory"], "keywords": ["FileNotFoundError", "no such file or directory"]}, "advice_nl": ["检查文件路径是否正确，确保文件存在。", "确认文件是否在正确的目录中。", "使用绝对路径而不是相对路径来避免路径问题。", "在代码中添加文件存在性检查，避免未找到文件时直接报错。", "确保在运行环境中所有必要的文件都已正确配置和安装。"], "atoms": [{"name": "set_env", "args": {"PYTHONPATH": "/repo"}}]}
{"id": "xpu_env_py_validate_email_issue", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["ERROR: Could not find a version that satisfies the requirement validate-email"], "keywords": ["validate-email", "No matching distribution found"]}, "advice_nl": ["检查 validate-email 包的版本号是否正确，确保在 PyPI 上有对应版本。", "尝试使用其他版本的 validate-email 包，或寻找替代包。", "确认 Python 版本与包的兼容性，可能需要切换 Python 版本。", "使用 pipdeptree 检查依赖关系，确保没有冲突。", "考虑使用虚拟环境隔离依赖，避免全局安装导致的版本冲突。"], "atoms": [{"name": "pip_install", "args": {"package": "validate-email", "version": "1.3"}}, {"name": "set_env", "args": {"python_version": "3.9"}}]}
{"id": "xpu_env_py_001", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "apt-get"]}, "signals": {"regex": ["No folder found in location: /shared/catalystneuro/ophys_testing_data"], "keywords": ["No folder found", "Failed", "tests"]}, "advice_nl": ["检查测试数据文件夹是否存在，并确保路径正确。", "在运行测试之前，确保所有必要的测试数据已被下载或生成。", "可以在测试脚本中添加检查逻辑，确保所需的文件夹和数据存在。", "考虑在 CI/CD 流程中加入数据准备步骤，以避免测试时缺少数据。", "如果测试数据较大，考虑使用数据存储服务或挂载网络存储。"], "atoms": [{"name": "pip_install", "args": {"packages": ["h5py>=2.10.0", "pynwb>=2.0.1", "tqdm>=4.48.2", "lazy_ops>=0.2.0", "dill>=0.3.2", "scipy>=1.5.2", "psutil>=5.8.0", "pyyaml", "lxml", "packaging", "pytest", "pytest-cov", "parameterized==0.8.1", "spikeinterface>=0.100.7", "pytest-xdist", "natsort", "tifffile", "opencv-python"]}}, {"name": "apt_get_install", "args": {"packages": ["libgl1"]}}, {"name": "set_env", "args": {"path": "/shared/catalystneuro/ophys_testing_data"}}]}
{"id": "xpu_env_py_license_fix", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory: '/data/zihang/Repo2Run/tmp_patches/tmp.*'"], "keywords": ["FileNotFoundError", "LICENSE", "Apache-2.0"]}, "advice_nl": ["检查 pyproject.toml 文件中的许可证字段是否正确配置。", "确保许可证字段的格式符合预期，例如 'name = \"Apache-2.0\"'。", "在修改 pyproject.toml 文件后，使用 poetry 重新安装依赖以验证修改是否生效。", "如果反复出现安装失败，考虑清理 poetry 缓存或锁文件后重试。", "确保所有相关文件路径正确，避免 FileNotFoundError 错误。"], "atoms": [{"name": "set_license", "args": {"file": "pyproject.toml", "license": "Apache-2.0"}}, {"name": "poetry_install", "args": {}}]}
{"id": "xpu_env_py_conan_package_tools", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["conflictlist solve -v \">=1.7.0,<2\""], "keywords": ["conflictlist", "solve", "dependency"]}, "advice_nl": ["检查依赖版本范围，确保没有冲突。", "使用工具如 pipdeptree 检查依赖树。", "尝试使用 poetry.lock 文件来锁定依赖版本。", "确保所有依赖在同一 Python 版本下兼容。", "避免在没有必要时修改或删除原始配置文件。"], "atoms": [{"name": "pip_install", "args": {"packages": ["six", "conan", "tabulate"], "version_constraints": [">=1.10.0,<=1.15.0", ">=1.7.0,<2", ">=0.8.0,<0.9.0"]}}, {"name": "conflict_solve", "args": {"strategy": "version_range", "packages": ["conan", "tabulate"]}}]}
{"id": "xpu_env_py_gpkit", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["r'cannot find module'", "r'no module named'"], "keywords": ["Dockerfile", "pytest", "runtest"]}, "advice_nl": ["确保在没有 Dockerfile 的情况下，正确配置 Python 项目环境。", "使用 `pip install -e .` 安装项目依赖。", "使用 `runtest` 或 `poetryruntest` 运行测试，而不是直接使用 `pytest`。", "检查 `setup.py` 中的 `install_requires` 以确保所有依赖项都已安装。", "如果需要更改 Python 版本，请使用 `change_python_version` 命令。"], "atoms": [{"name": "pip_install", "args": {"package": ".", "options": ["-e"]}}, {"name": "run_test", "args": {"command": "runtest"}}]}
{"id": "xpu_env_py_androidviewclient", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["runtest|poetryruntest"], "keywords": ["runtest", "poetryruntest", "setup.py", "pip install"]}, "advice_nl": ["确保在没有 Dockerfile 的情况下正确配置环境。", "使用 `pip install -e .` 安装项目依赖。", "通过 `runtest` 或 `poetryruntest` 运行测试。", "避免直接修改或删除原始测试文件。", "确保所有命令尽量写在一行内，避免多行拆分。"], "atoms": [{"name": "pip_install", "args": {"package": "-e ."}}, {"name": "run_test", "args": {"command": "runtest"}}]}
{"id": "xpu_env_py_google_cloud_datastore_conflict", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["google-cloud-datastore.*>=1\\.15\\.3,<2\\.0"], "keywords": ["conflict", "google-cloud-datastore"]}, "advice_nl": ["检查 google-cloud-datastore 的版本兼容性，确保其他依赖包不与其冲突。", "使用 conflictlist 工具解决版本冲突，确保所有包版本满足项目需求。", "在解决依赖冲突时，尽量保持命令简洁，避免多次重复执行相同操作。", "在配置环境时，优先使用项目已有的配置文件，如 requirements.txt。", "确保测试工具如 pytest 和 poetry 已正确配置，并使用指定命令进行测试。"], "atoms": [{"name": "pip_install", "args": {"package": "google-cloud-datastore", "version": ">=1.15.3,<2.0"}}, {"name": "conflict_solve", "args": {"package": "google-cloud-datastore", "version": ">=1.15.3,<2.0"}}]}
{"id": "xpu_env_py_django_conflict_resolution", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest"]}, "signals": {"regex": ["conflictlist solve -v \">=4.2\""], "keywords": ["Django", "conflict", "solve"]}, "advice_nl": ["检查 Django 版本要求，确保所有依赖包的版本兼容。", "使用 pipdeptree 工具分析依赖树，找出版本冲突的根源。", "考虑锁定 Django 版本，避免使用不兼容的版本范围。", "在解决版本冲突后，使用 pytest 进行全面测试，确保环境稳定。", "如果反复出现版本冲突，考虑使用虚拟环境隔离不同项目的依赖。"], "atoms": [{"name": "pip_install", "args": {"package": "Django", "version": ">=4.2"}}, {"name": "pipdeptree_analysis", "args": {}}, {"name": "pytest_run", "args": {}}]}
{"id": "xpu_env_py_setuptools_reinstall", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pip", "setuptools"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory"], "keywords": ["setuptools", "force-reinstall", "pkg_resources"]}, "advice_nl": ["确保在使用 poetry 时，setuptools 已正确安装。", "如果遇到 setuptools 相关的导入错误，尝试使用 pip 强制重新安装 setuptools。", "检查 pkg_resources 的路径是否正确，确保其在 Python 的 site-packages 目录中。", "在 poetry 环境中运行测试时，确保所有依赖项已正确安装。", "如果问题仍然存在，考虑清理并重新安装所有依赖项。"], "atoms": [{"name": "pip_install", "args": {"package": "setuptools", "options": "--force-reinstall"}}]}
{"id": "xpu_env_py_pyyaml_version_conflict", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "PyYAML"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory"], "keywords": ["PyYAML", "FileNotFoundError", "libyaml-dev"]}, "advice_nl": ["检查 PyYAML 的版本兼容性，确保安装的版本与项目需求一致。", "确认 libyaml-dev 已正确安装，以支持 PyYAML 的编译。", "使用 pipdeptree 检查依赖树，识别潜在的版本冲突。", "考虑使用虚拟环境隔离不同项目的依赖，避免版本冲突。", "确保所有必要的文件路径正确，避免 FileNotFoundError。"], "atoms": [{"name": "pip_install", "args": {"package": "PyYAML", "version": "5.4.1"}}, {"name": "apt_install", "args": {"package": "libyaml-dev"}}]}
{"id": "xpu_env_py_deprecated_pip_search", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pipreqs"]}, "signals": {"regex": ["pip search", "runpipreqs"], "keywords": ["pip search", "pipreqs", "XML-RPC", "deprecated"]}, "advice_nl": ["pip search 命令已被弃用，请使用浏览器访问 https://pypi.org/search 进行包搜索。", "pipreqs 工具可能会出现错误，建议手动生成 requirements_pipreqs.txt 文件。", "检查 pipreqs 的安装状态，确保其版本是最新的。", "考虑使用其他依赖管理工具，如 poetry 或 pipenv，以避免类似问题。", "在使用 pipreqs 之前，确保项目目录结构正确，且所有依赖已安装。"], "atoms": [{"name": "pip_install", "args": {"package": "pipreqs", "options": ["--upgrade"]}}, {"name": "set_env", "args": {"variable": "PIP_NO_DEPRECATED", "value": "1"}}]}
{"id": "xpu_env_py_ibmi_bob", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "poetry"]}, "signals": {"regex": ["runtest|poetryruntest"], "keywords": ["pytest", "runtest", "poetry"]}, "advice_nl": ["确保所有依赖项在 requirements.txt 中正确列出。", "使用 poetry 来管理项目依赖，确保 pyproject.toml 文件配置正确。", "在 Docker 容器中切换 Python 版本时，使用 change_python_version 命令。", "避免直接修改测试文件，通过配置环境来解决测试问题。", "使用 runtest 或 poetryruntest 来执行测试，确保环境配置正确。"], "atoms": [{"name": "pip_install", "args": {"packages": ["pytest", "bump2version", "PyGithub>=1.57"]}}, {"name": "set_env", "args": {"variables": {"PYTHON_VERSION": "3.10"}}}]}
{"id": "xpu_env_py_mimic", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "poetry"]}, "signals": {"regex": ["OSError: \\[Errno 16\\] Device or resource busy", "FileNotFoundError: \\[Errno 2\\] No such file or directory"], "keywords": ["setup.py", "OSError", "FileNotFoundError", "Device or resource busy"]}, "advice_nl": ["检查 setup.py 中的文件路径和重命名逻辑，确保目标路径不被占用。", "确认所有依赖的文件和目录存在，避免路径错误。", "考虑使用虚拟环境隔离依赖，避免全局环境干扰。", "使用 poetry 或 pipenv 管理依赖，确保依赖版本一致性。", "在 Docker 容器中操作时，确保文件系统的状态和权限正确。"], "atoms": [{"name": "pip_install", "args": {"package": "distro"}}, {"name": "set_env", "args": {"variable": "PYTHONPATH", "value": "/repo"}}]}
{"id": "xpu_env_py_importlib_resources_version_issue", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip"]}, "signals": {"regex": ["TypeError: files\\(\\) missing 1 required positional argument: 'package'"], "keywords": ["TypeError", "importlib_resources", "pytest"]}, "advice_nl": ["检查 importlib_resources 的版本是否符合项目需求，可能需要升级或降级。", "确保所有依赖包的版本兼容性，特别是与 pytest 相关的插件。", "考虑使用虚拟环境来隔离依赖，避免版本冲突。", "使用 pipdeptree 检查依赖树，找出潜在的版本冲突。", "在 pyproject.toml 或 requirements.txt 中明确指定依赖包的版本范围。"], "atoms": [{"name": "pip_install", "args": {"package": "importlib_resources", "version": "<3.9"}}, {"name": "pip_install", "args": {"package": "pytest", "version": ">=6,!=8.1.*"}}]}
{"id": "xpu_env_py_prometheus_rpm", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "poetry"]}, "signals": {"regex": ["runtest|poetryruntest"], "keywords": ["runtest", "poetryruntest", "Dockerfile"]}, "advice_nl": ["确保在没有 Dockerfile 的情况下正确配置环境。", "使用 poetry 和 pip 管理依赖，避免直接修改测试文件。", "通过 runtest 或 poetryruntest 执行测试，确保环境配置正确。", "避免使用 hatch shell 等命令打开新 shell。", "尽量在单行中编写命令，使用 '&&' 连接多个操作。"], "atoms": [{"name": "pip_install", "args": {"packages": ["jinja2", "pyyaml"]}}, {"name": "set_env", "args": {"variables": {"PYTHON_VERSION": "3.10"}}}]}
{"id": "xpu_env_py_poetry_test", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["poetryruntest"], "keywords": ["poetry", "runtest", "pytest"]}, "advice_nl": ["确保使用 Poetry 进行依赖安装和锁定。", "使用 `poetryruntest` 而不是直接调用 `pytest` 进行测试。", "检查 `pyproject.toml` 和 `poetry.lock` 文件以确保依赖正确配置。", "避免修改或删除原始测试文件。", "确保所有命令在单行内完成，避免使用多行命令。"], "atoms": [{"name": "poetry_install", "args": {"path": "/repo"}}, {"name": "poetry_lock", "args": {"path": "/repo"}}, {"name": "run_test", "args": {"command": "poetryruntest"}}]}
{"id": "xpu_env_py_openaerostruct", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "poetry"]}, "signals": {"regex": ["runtest|poetryruntest"], "keywords": ["runtest", "poetryruntest", "setup.py", "pip install"]}, "advice_nl": ["确保在没有 Dockerfile 的情况下正确配置环境，使用 setup.py 和 pip install -e . 来安装依赖。", "使用 runtest 或 poetryruntest 来运行测试，而不是直接调用 pytest。", "避免修改或删除原始文件，尤其是测试文件。", "在命令行中尽量将所有命令写在一行，避免不必要的换行。", "如果需要切换 Python 版本，可以使用 change_python_version 命令。"], "atoms": [{"name": "pip_install", "args": {"package": ".", "options": ["-e"]}}, {"name": "run_test", "args": {"command": "runtest"}}]}
{"id": "xpu_env_py_aqt_module_not_found", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "poetry"]}, "signals": {"regex": ["ModuleNotFoundError: No module named 'aqt'"], "keywords": ["ModuleNotFoundError", "ImportError", "No module named"]}, "advice_nl": ["确保在项目根目录下执行 `pip install -e .` 以安装项目包。", "检查 `pyproject.toml` 中的项目名称和路径是否正确。", "使用 `poetry install` 后，确认项目包已被正确安装。", "在测试前，确保所有依赖项已被安装并且路径正确。", "考虑使用 `pipdeptree` 检查依赖关系是否完整。"], "atoms": [{"name": "pip_install", "args": {"packages": ["-e ."]}}]}
{"id": "xpu_env_py_mne_lsl", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory"], "keywords": ["FileNotFoundError", "pyproject.toml", "sed"]}, "advice_nl": ["检查 pyproject.toml 文件路径是否正确，确保文件存在。", "避免对 pyproject.toml 文件进行重复的无效修改。", "使用 poetry 的命令来检查依赖关系，而不是直接修改 pyproject.toml 文件。", "确保在修改文件时使用正确的正则表达式和命令格式。", "在进行文件操作前，使用 ls 或 cat 命令确认文件的存在和内容。"], "atoms": [{"name": "check_file_existence", "args": {"file_path": "/repo/pyproject.toml"}}, {"name": "poetry_check_dependencies", "args": {}}]}
{"id": "xpu_env_py_neurogym", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip"]}, "signals": {"regex": ["class\\s+\\w+\\s*\\("], "keywords": ["class", "TrialHistory", "Identity", "CatchTrials", "TTLPulse", "TransferLearning", "VariableMapping", "TimeOut"]}, "advice_nl": ["确保在没有 Dockerfile 的情况下正确配置环境。", "使用 `pip install -e .` 安装项目依赖。", "在 `__init__.py` 中添加自定义类以扩展功能。", "使用 `runtest` 命令进行测试，而不是直接调用 `pytest`。", "检查并更新 `setup.py` 以确保所有依赖项都被正确安装。"], "atoms": [{"name": "pip_install", "args": {"package": "-e ."}}, {"name": "set_env", "args": {"variable": "PYTHONPATH", "value": "/repo"}}, {"name": "run_test", "args": {"command": "runtest"}}]}
{"id": "xpu_env_py_llvm_installation", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "cmake", "wget"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory"], "keywords": ["llvm", "cmake", "installation", "build"]}, "advice_nl": ["确保安装正确版本的 LLVM 和相关开发包。", "使用 cmake 构建 LLVM 时，确保设置正确的编译选项。", "在安装过程中，注意清理不必要的文件以避免冲突。", "检查并更新 apt 源以获取最新的 LLVM 包。", "在安装过程中，关注日志信息以快速定位问题。"], "atoms": [{"name": "apt_install", "args": {"packages": ["llvm-14", "llvm-14-dev", "build-essential", "cmake"]}}, {"name": "wget_and_install", "args": {"url": "https://github.com/llvm/llvm-project/releases/download/llvmorg-14.0.6/llvm-14.0.6.src.tar.xz", "commands": ["tar -xf llvm-14.0.6.src.tar.xz", "cd llvm-14.0.6.src && mkdir build && cd build", "cmake -G \"Unix Makefiles\" -DLLVM_ENABLE_PROJECTS=clang -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local ..", "make -j$(nproc)", "make install"]}}]}
{"id": "xpu_env_py_pathlib_conflict", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pipreqs", "pytest"]}, "signals": {"regex": ["ERROR: Could not find a version that satisfies the requirement pathlib2"], "keywords": ["pathlib", "version conflict", "pip install"]}, "advice_nl": ["检查 requirements.txt 中的版本号是否正确，确保没有拼写错误。", "使用 pip index versions <package> 查看可用版本，确保所需版本存在。", "如果某个版本不可用，考虑使用兼容的其他版本。", "在安装依赖时，确保网络连接正常，避免因网络问题导致的下载失败。", "使用 pipreqs 生成的 requirements.txt 可能不够准确，手动检查并调整版本号。"], "atoms": [{"name": "pip_install", "args": {"package": "pathlib2", "version": "compatible_version"}}]}
{"id": "xpu_env_py_pajbot", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["ERROR: Could not find a version that satisfies the requirement", "ERROR: No matching distribution found for"], "keywords": ["version conflict", "download error", "pip"]}, "advice_nl": ["检查 requirements.txt 中的版本号是否正确，确保没有拼写错误。", "使用 pipdeptree 工具检查依赖树，找出可能的版本冲突。", "尝试使用较新的 Python 版本或不同的包版本来解决兼容性问题。", "确保网络连接正常，或者尝试更换 PyPI 镜像源。", "使用 virtualenv 创建隔离环境，避免全局包的干扰。"], "atoms": [{"name": "pip_install", "args": {"package": "jinja2", "version": "3.1.4"}}, {"name": "pip_install", "args": {"package": "jsmin", "version": "3.0.1"}}]}
{"id": "xpu_env_py_postgresql_role_issue", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "psql", "postgresql"]}, "signals": {"regex": ["FATAL:  role \".*\" does not exist"], "keywords": ["psql", "role", "postgres", "CREATE ROLE"]}, "advice_nl": ["检查 PostgreSQL 是否正确安装并启动。", "确保在 PostgreSQL 中创建了所需的用户角色。", "使用 `CREATE ROLE` 命令创建缺失的角色。", "检查 PostgreSQL 的连接配置，确保端口和主机设置正确。", "在测试环境中，确保数据库服务已启动并可访问。"], "atoms": [{"name": "apt_install", "args": {"package": "postgresql"}}, {"name": "service_start", "args": {"service": "postgresql"}}, {"name": "psql_command", "args": {"command": "CREATE ROLE root WITH LOGIN SUPERUSER PASSWORD 'root';"}}]}
{"id": "xpu_env_py_poetry_file_not_found", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory: '.*tmp_patches/tmp.*'"], "keywords": ["FileNotFoundError", "poetry", "tmp_patches"]}, "advice_nl": ["检查临时文件的生成和清理逻辑，确保在使用时文件存在。", "在使用 poetry 安装依赖时，确保所有必要的文件路径正确配置。", "考虑在 Dockerfile 中明确指定临时文件目录，避免路径问题。", "在容器化环境中，使用持久化存储来管理临时文件，避免因容器重启导致的文件丢失。", "使用调试工具检查文件路径的生成过程，确保路径正确无误。"], "atoms": [{"name": "set_env", "args": {"TMPDIR": "/path/to/persistent/tmp"}}]}
{"id": "xpu_env_py_poetry_version_fix", "context": {"lang": "python", "os": ["linux"], "python": ["3.8", "3.9", "3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory: '.*tmp_patches.*'"], "keywords": ["FileNotFoundError", "poetry install", "dynamic version"]}, "advice_nl": ["检查 pyproject.toml 文件中的动态版本设置，确保版本号明确指定。", "在使用 poetry 安装依赖时，确保所有必要的文件路径存在。", "如果出现文件未找到错误，检查相关脚本或工具的临时文件生成逻辑。", "考虑使用固定版本号而不是动态版本，以减少安装过程中的不确定性。", "确保环境中所有依赖工具的版本兼容性，特别是 Python 版本和 poetry 的版本。"], "atoms": [{"name": "set_env", "args": {"PYTHON_VERSION": "3.10"}}, {"name": "poetry_install", "args": {"path": "/repo"}}, {"name": "file_edit", "args": {"file_path": "/repo/pyproject.toml", "edit_type": "insert", "content": "version = \"1.0.0\"", "position": "after", "target": "dynamic = [\"version\"]"}}]}
{"id": "xpu_env_py_poetry_test", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["poetryruntest"], "keywords": ["poetry", "runtest", "pytest"]}, "advice_nl": ["确保使用 Poetry 进行依赖安装，并使用 `poetryruntest` 进行测试。", "检查 `pyproject.toml` 和 `poetry.lock` 文件的正确性。", "避免直接使用 `pytest` 命令进行测试，使用 `poetryruntest`。", "确保 Python 版本与项目要求一致，必要时切换版本。", "避免修改或删除原始测试文件，确保测试环境配置正确。"], "atoms": [{"name": "set_env", "args": {"POETRY_VERSION": "latest"}}, {"name": "poetry_install", "args": {}}, {"name": "run_test", "args": {"command": "poetryruntest"}}]}
{"id": "xpu_env_py_poetry_pytest_cov", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest", "pytest-cov"]}, "signals": {"regex": ["pytest: error: unrecognized arguments: --cov=.*"], "keywords": ["pytest", "pytest-cov", "unrecognized arguments"]}, "advice_nl": ["检查 pytest-cov 是否正确安装，并且版本兼容。", "确保 pyproject.toml 中的 pytest-cov 配置正确。", "尝试使用 `poetry add pytest-cov` 安装 pytest-cov。", "检查 pytest-cov 的使用文档，确保命令行参数正确。", "考虑在 Poetry 环境中使用 `poetry run pytest` 进行测试。"], "atoms": [{"name": "poetry_add", "args": {"package": "pytest-cov"}}, {"name": "poetry_run", "args": {"command": "pytest"}}]}
{"id": "xpu_env_py_001", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest"]}, "signals": {"regex": ["requirements\\.txt", "waitinglist add -p"], "keywords": ["requirements.txt", "waitinglist", "pip"]}, "advice_nl": ["确保 requirements.txt 文件中列出的所有依赖项都已正确安装。", "使用 pip 安装依赖时，确保网络连接正常，避免因网络问题导致安装失败。", "检查是否需要特定版本的 Python 环境，确保与项目需求一致。", "在安装依赖时，尽量使用单行命令以减少复杂性。", "在测试运行前，确保所有依赖项已正确安装并配置。"], "atoms": [{"name": "pip_install", "args": {"packages": ["py-cpuinfo", "colorama", "requests", "pyserial", "pypresence", "psutil"]}}]}
{"id": "xpu_env_py_sasctl", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pytest", "pip", "poetry"]}, "signals": {"regex": ["ModuleNotFoundError: No module named 'sklearn'"], "keywords": ["ModuleNotFoundError", "sklearn", "ImportError"]}, "advice_nl": ["确保在环境配置中安装所有测试所需的依赖包。", "检查 setup.py 或 requirements.txt 中是否遗漏了必要的包。", "使用 pipdeptree 或 poetry.lock 确认依赖关系的完整性。", "在 Docker 容器中运行时，确保 Python 版本与项目需求一致。", "使用 `pip install -e .` 安装项目的可编辑版本以确保所有依赖被正确识别。"], "atoms": [{"name": "pip_install", "args": {"package": "scikit-learn"}}, {"name": "pip_install", "args": {"package": "betamax"}}, {"name": "pip_install", "args": {"package": "nbconvert"}}, {"name": "pip_install", "args": {"package": "betamax_serializers"}}]}
{"id": "xpu_env_py_poetry_test", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest"]}, "signals": {"regex": ["poetryruntest"], "keywords": ["poetry", "runtest", "pytest"]}, "advice_nl": ["确保使用 Poetry 进行依赖安装，并使用 `poetryruntest` 而不是直接调用 pytest。", "检查 pyproject.toml 和 poetry.lock 文件以确保依赖正确配置。", "避免修改或删除原始测试文件，确保测试能够在当前环境下通过。", "如果需要切换 Python 版本，使用 `change_python_version` 命令。", "尽量将所有命令写在一行，避免不必要的换行。"], "atoms": [{"name": "poetry_install", "args": {"path": "/repo"}}, {"name": "run_test", "args": {"command": "poetryruntest"}}]}
{"id": "xpu_env_py_sklearn_version_compatibility", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pip", "pytest"]}, "signals": {"regex": ["TypeError: OneHotEncoder.__init__\\(\\) got an unexpected keyword"], "keywords": ["TypeError", "OneHotEncoder", "unexpected keyword"]}, "advice_nl": ["检查 scikit-learn 的版本兼容性，确保与项目中使用的其他库版本匹配。", "尝试固定 scikit-learn 的版本，避免使用不兼容的最新版本。", "在 pyproject.toml 或 requirements.txt 中明确指定兼容的 scikit-learn 版本。", "使用 pipdeptree 检查依赖树，识别潜在的版本冲突。", "在测试失败时，回滚到上一个已知良好的环境状态。"], "atoms": [{"name": "pip_install", "args": {"package": "scikit-learn", "version": "1.0.2"}}, {"name": "pip_pin", "args": {"package": "scikit-learn", "version": "1.0.2"}}, {"name": "set_env", "args": {"PYTHONPATH": "$PYTHONPATH:/repo/benchmarks/utils"}}]}
{"id": "xpu_env_py_sublimelinter", "context": {"lang": "python", "os": ["linux"], "python": ["3.12"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["Command 'cat <<EOF > /repo/requirements.txt.*timed out"], "keywords": ["timeout", "requirements.txt", "python version"]}, "advice_nl": ["检查是否需要切换到合适的 Python 版本，确保与项目依赖兼容。", "在处理大文件或长时间运行的命令时，考虑增加超时时间或优化命令执行。", "确保 requirements.txt 文件格式正确，避免因格式问题导致的超时或错误。", "使用 pipreqs 等工具自动生成依赖文件，减少手动错误。", "在使用 Docker 容器时，确保基础镜像和项目需求的一致性。"], "atoms": [{"name": "change_python_version", "args": {"version": "3.12"}}, {"name": "pip_install", "args": {"packages": ["colorama==0.4.6", "docutils==0.20.1", "flake8==5.0.4", "jinja2==3.1.3", "livereload==2.6.3", "markupsafe==2.1.5", "mccabe==0.7.0", "mypy==1.8.0", "mypy-extensions==1.0.0", "pycodestyle==2.9.1", "pyflakes==2.5.0", "pygments==2.17.2", "six==1.16.0", "sphinx==1.2.3", "sphinx-autobuild==2021.3.14", "tomli==2.0.1", "tornado==6.4", "typing-extensions==4.10.0"]}}]}
{"id": "xpu_env_py_typing_extensions_issue", "context": {"lang": "python", "os": ["linux"], "python": ["3.7", "3.8", "3.9"], "tools": ["pip", "pipreqs", "git"]}, "signals": {"regex": ["ERROR: No matching distribution found for typing-extensions==4\\.15\\.0"], "keywords": ["No matching distribution", "typing-extensions"]}, "advice_nl": ["检查 typing-extensions 的版本是否与当前 Python 版本兼容。", "尝试使用 pip index versions 命令查看可用的 typing-extensions 版本。", "考虑降级或升级 Python 版本以满足 typing-extensions 的版本要求。", "确保 pip 已更新到最新版本，以避免版本解析问题。", "在安装依赖时，使用 --no-cache-dir 选项以避免缓存问题。"], "atoms": [{"name": "pip_install", "args": {"package": "typing-extensions", "version": "4.15.0"}}, {"name": "change_python_version", "args": {"version": "3.9"}}]}
{"id": "xpu_env_py_poetry_no_dockerfile", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["poetry", "pytest", "pip"]}, "signals": {"regex": ["FileNotFoundError: \\[Errno 2\\] No such file or directory"], "keywords": ["FileNotFoundError", "poetry", "runtest", "no Dockerfile"]}, "advice_nl": ["检查项目根目录下是否存在必要的配置文件，如 pyproject.toml。", "确保在使用 poetry 安装依赖后，正确执行测试命令，如 poetryruntest。", "如果项目没有 Dockerfile，考虑手动配置环境或使用其他工具生成 Dockerfile。", "确认所有依赖项在 pyproject.toml 中正确声明，并使用 poetry.lock 锁定版本。", "在没有 Dockerfile 的情况下，确保在正确的 Python 版本下运行环境配置和测试。"], "atoms": [{"name": "pip_install", "args": {"package": "aiosqlite"}}, {"name": "poetry_install", "args": {}}]}
{"id": "xpu_env_py_mypyvy", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip", "pytest", "poetry"]}, "signals": {"regex": ["runtest|poetryruntest"], "keywords": ["runtest", "poetryruntest", "dependency", "configuration"]}, "advice_nl": ["确保所有依赖项在 requirements.txt 中正确列出。", "使用 pip 安装所需的第三方库，并确保版本兼容。", "在没有 Dockerfile 的情况下，使用 poetry 和 pipdeptree 来管理依赖关系。", "通过 runtest 或 poetryruntest 来验证环境配置是否正确。", "避免修改或删除原始测试文件，确保测试能够成功运行。"], "atoms": [{"name": "pip_install", "args": {"packages": ["flake8", "mypy", "typing_extensions", "networkx", "flask", "types-flask"]}}, {"name": "set_env", "args": {"python_version": "3.10"}}]}
{"id": "xpu_env_py_dependency_resolution", "context": {"lang": "python", "os": ["linux"], "python": ["3.10"], "tools": ["pip"]}, "signals": {"regex": ["ERROR: Could not find a version that satisfies the requirement", "ERROR: No matching distribution found for"], "keywords": ["Could not find a version", "No matching distribution"]}, "advice_nl": ["检查依赖库的版本号是否正确，确保版本号存在于 PyPI 上。", "使用 `pip install <package>==<version>` 确保安装特定版本。", "如果某个版本不可用，考虑使用其他可用版本或更新依赖库的版本要求。", "检查网络连接是否正常，确保可以访问 PyPI。", "使用 `pip list` 查看已安装的库及其版本，确保没有版本冲突。"], "atoms": [{"name": "pip_install", "args": {"package": "twine", "version": "5.0.0"}}, {"name": "pip_install", "args": {"package": "build", "version": "1.2.1"}}, {"name": "pip_install", "args": {"package": "setuptools", "version": "69.5.1"}}]}
